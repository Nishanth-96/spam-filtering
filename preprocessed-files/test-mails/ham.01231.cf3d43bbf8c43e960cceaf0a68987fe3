> -- -- -origin messag -- -- - > from : ralf ertzing emailaddr > sent : thursday , august number , number number : number pm > to : emailaddr > subject : re : document about built-in rpm macro ? > > > hi . > > dave cridland wrote : > > > > recommend *against* use ' % configur ' ( `` we will tri to > support user > > > who accident type the lead % but thi should not be reli > > > upon . `` ) , and yet > > [ snip ] > > > they 're just suggest peopl use `` ./configur '' instead . > > no , they do not ( what would be the use of that , anyway ? ) . > they say that > they will _try_ to eval macro even if the user forgot to pass the > lead ' % ' , but that thi featur should not be reli upon . > hmm . number . the quot is not suggest that peopl use './configur ' . number . the quot is not say that rpm will _try_ to eval macro even if the user forgot to pass the lead ' % ' . it is say the opposit : rpm will tri to support user who `` forgot '' to _leav off_ the lead ' % ' . that is what the document _says_ , but rpm doe not follow the document . if you leav off the ' % ' , then rpm will not eval the macro , at least for rpm number.number.numb . confus ? anyway , back to my origin problem : what about document for the macro ' % post ' , ' % postun ' , and ' % file ' ? here 's some of what i found `` document '' in the the chang file that 'rpm ' includ : line number : - macro for % file , alway includ % defattr ( ) , redhat config onli . line number : - bail on % file macro . hmm . so , there is no % file macro ? line number-numb : - add `` rpmlib ( scriptletinterpreterarg ) '' to track % post -p `` /sbin/ldconfig -n /usr/lib '' incompat . i 'm unabl to find a correspond descript for % postun , but it appear to work just the same . the import thing to rememb are : number . do n't forget the double-quot around the -p argument string . if you leav them off , you 'll get the cryptic error messag : error : line # : packag doe not exist : % post -p /sbin/ldconfig -n /usr/lib number . thi onli work with rpm number.number.numb or later . > -- > on the first day of christma my true love sent to me > a badli configur newsread > > _______________________________________________ > rpm-list mail list > httpaddr > _______________________________________________ rpm-list mail list httpaddr