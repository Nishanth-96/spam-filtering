onc upon a time , mark wrote : > i 'm just play with gnuboy ( game boy emul ) as it fairli simpl > and small . > i 'm have a few problem with the % doc macro . > after read thru maximum rpm and the rpm doc , i 'm still stuck on one > thing , in the sourc for gnuboy there is a directori call doc , that > contain , well the doc . > > i 'm not sure what to pass to the % doc macro ? > i origin tri : > % doc chang config credit faq hack liberti readme.old > > and it moan about miss file , would i have to put a few line in the > % build macro , just befor configur to move the doc out of that > directori and into the build root ? > > ie : mv docs/* ../ actual , i 've alreadi rebuild gnuboy , i just had forgotten to commit the spec file , which is now done : httpaddr basic , % doc is use to put file in % docdir ( default to /usr/share/docs/ % { name } - % { version } / and the list file with rel path ( i.e . that do n't start with a `` / '' ) are rel to the % { builddir } ( the uncompress sourc usual ) . so either you can choos to have a '' doc '' directori insid % { _docdir } by put : % doc doc ( or , total equival , the latter just remind it 's a directori ) % doc docs/ or you can put all file that are in docs/ directli in % { _docdir } : % doc docs/* tri both , poke around , and you should catch the differ if it 's not alreadi clear for you . you can also mark ani file from the % { buildroot } as document ( will be list when use `` -qd '' to queri the packag 's doc ) by use % doc with absolut filenam , for exampl : % doc % { _datadir } /foo-game/manu ( thi is /usr/share/foo-game/manu , an absolut file ) also , for the packag 's conveni , all file in /usr/share/man ( aka % { _mandir } ) are automat tag as % doc . > also one more thing , what the best way to work out the depend ? > as for exampl with gnuboy , all hte doc and the websit say is it > need sdl . > > do i set a requir : sdl > = number.numb ( as my system use sdl-number.number.number-numb ) or just > put requir : sdl . build the packag onc and see if it check for a specif version , or read the instal note . often you 'll see `` check for sdl > = number.number.numb '' for exampl when run configur , then it 's best to also make the packag depend on that version . > one more quick question , i 'm use to compil sourc code no problem > ( can not program , but stumbl through ) , what the best way for find > out what rpm are need for the requir & buildrequir macro ? > apart from read all the doc and websit info . well , read the doc inde : - ) you can also compil the packag onc without those field and see what the configur script is check for ( basic , the lib and version you 'll need to add to the buildrequir : ) then onc the packag is built , queri the automat depend that rpm put into it . you 'll see for instanc if the binaries/lib from the packag need sdl , gtk+ etc . then add those `` requir : '' and rebuild a final version of the packag . often you can omit some depend , for exampl if a program is check for glib , gtk+ , gdk-pixbuf and gnome librari when be compil , buildrequir : gnome-libs-devel requir : gnome-lib will be enough sinc they alreadi depend on the `` lower level '' lib that are glib , gtk+ and gdk-pixbuf . > onc again sorri to bother you with thi , but i figur you were the > best one to ask . well , thi is typic the type of inform interest to share with other , so i 'll copi thi answer to the rpm-list hope some peopl will appreci : - ) > p. freshrpm rock .. creep..creep ! thank ; - ) matthia -- clean custom red hat linux rpm packag : httpaddr red hat linux releas number.numb ( valhalla ) run linux kernel number.number.number-numb load : number.numb number.numb number.numb , ac on-lin , batteri charg : number % ( number : number ) _______________________________________________ rpm-list mail list httpaddr