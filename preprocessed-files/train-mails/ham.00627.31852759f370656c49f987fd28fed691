-- -- - origin messag -- -- - > date : mon , number aug number number : number : number -number > from : chad norwood > to : sven > cc : emailaddr > subject : [ razor-us ] re : question on miscellan errata and issu > > on number/number/numb number : number -number , sven wrote : > ) in tweak my system to tri to optim the use of razor ( thi now from a network/connection/etc standpoint , not so much from a philosph stanc on what is or is not consid spam and who should decid it ) i have come across a coupl issu that i hope i may be abl to get some relief on ... > ) > ) number ) what *exactly* doe `` unabl to connect to honor.cloudmark.com : number ; reason : oper now in progress . '' mean ? ? ? i have seen thi error messag some number time today ( between number cluster server ) repres a littl over number % failur rate . in an enterpris level i wa hope for more along the line of mayb one-tenth that ... .. > > it 's a network error - that string is not creat by > razor agent . it tri to connect and have troubl . > number time seem abnorm high . how mani success > connect were there in the same timespan ? > today wa not as bad ... apt.cloudmark wa the server du jour and experienc about number `` unabl to connect ... . reason : oper now in progress '' out of some number , number `` bootup [ number ] '' or roughli number.numb % -- better than the number % befor but still a bit higher than i would like . i suspect it is becaus a previou timeout from razor-ag ha a process id that is be held by an open milter socket . the process id 's cycl , the number come up again and the error occur as a duplic pid occur . i will tweak my milter set to shorten the total time to allow the socket to live per connect . > > ) number ) relat somewhat to question number : is there ( or will there be if current not ) a way of adjust the timeout the set for the razor-check to await a respons from the server it queri ? i am run thi as a sendmail milter and adjust the milter timeout wo n't help if the razor-check script time out first anyway ... . > > the timeout is hardcod to number sec . > no plan right now to make that an option . > you can alway edit the sourc - core.pm . : ) in look at core.pm i find a coupl possibl place where that code might be . is it : my dollarselect = new io : :select ( dollarsock ) ; my @ handl = dollarselect- > can_read ( number ) ; if ( dollarhandl [ number ] ) { dollarself- > log ( number , '' connect establish '' ) ; my dollargreet = ; # dollarsock- > autoflush ; # thi is on by default as of io : :socket number.numb dollarself- > { sock } = dollarsock ; dollarself- > { connected_to } = dollarserv ; dollarself- > { select } = dollarselect ; dollarself- > log ( number , '' dollarserv > > `` . length ( dollargreet ) . '' server greet : dollargreet '' ) ; return number if dollarparam { discovery_serv } ; unless ( dollarself- > parse_greet ( dollargreet ) ) { dollarself- > nextserv or return dollarself- > errprefix ( `` connectnumb '' ) ; return dollarself- > connect ; } return number ; } els { dollarself- > log ( number , `` time out ( number sec ) while read from dollarself- > { s } - > { ip } . `` ) ; ? ? ? ? ? ? or unless ( dollarsock ) { dollarsock = io : :socket : :inet- > new ( peeraddr = > dollarserv , peerport = > dollarport , proto = > 'tcp ' , timeout = > number , ) ; unless ( dollarsock ) { dollarself- > log ( number , '' unabl to connect to dollarserv : dollarport ; reason : dollar ! . `` ) ; return if dollarparam { discovery_serv } ; dollarself- > nextserv or return dollarself- > errprefix ( `` connectnumb '' ) ; return dollarself- > connect ; } } ? ? ? ? ? ? [ of cours the latter reflect a differenct timeout set altogeth - one part for proxi , the other for non-proxi ] > > > ) number ) what are the plan for fire.cloudmark , apt.cloudmark , ubik.cloudmark ? it seem that we have all these catalogu server yet a good portion of the time , onli one is avail or the last discoveri end up onli list one ( current honor.cloudmark ) in the cataloge.lst file . > > the system is design so server can be ad and > subtract without the client care - if the razor > client ca n't connect to a server , it re-discov , get > all current avail server and store result local . > i chang the default discoveri period to everi number hour in order to compens for the recent sporad natur of the server ' avail ( i realiz that the issu wa relat to sync and server upgrad ... . but i might as well play it safe for a while ) . > > ) number ) what would be the implications/requirements/caveat of host a catalogu server or , at the minimum , a cach server ( similar to the way mail-abuse.org , for exampl , doe dn zone transfer of it rbl list -- i realiz that thi is a complet differ mechan , but you get the point i am drive at here ) . i realiz that there is an issu of pollut the catalogu but perhpa there could be some way of certifi a catalogu server ? what type of bandwidth consider are we look at here ? ( it is just the signatur that are actual transfer across the pipe , is it not ? ) > > we are look into releas cach catalogu server > for those besid us to use . if i can be of help or if you have detail about to particip in thi portion ( cach or catalogu ) , pleas let me know . > > > ) it realli look like there is a great potenti here for a veri workabl tool and if i can get some of these issu address or can even be of some assist , all the better ... .. > ) > ) sven willenberg > ) system administr > ) delmarva onlin , inc. > > > thank ! > > -chad > > > > -- __ -- __ -- > > _______________________________________________ > razor-us mail list > emailaddr > httpaddr > > > end of razor-us digest -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- - thi sf.net email is sponsor by : dice - the lead onlin job board for high-tech profession . search and appli for tech job today ! httpaddr _______________________________________________ razor-us mail list emailaddr httpaddr