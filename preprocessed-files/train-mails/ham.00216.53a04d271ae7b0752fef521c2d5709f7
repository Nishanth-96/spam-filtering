hi niall , some thought ... o run the ssh client with verbos number ( ssh -v -v -v ) o run an sshd with debug level three ( sshd -d -d -d ) o ~alfio doe n't seem to be nfs-mount like ~alfr ( the follow are n't realli applic , but ... o ha alfr been log in for age ? ha the tmpsweeper swept through /tmp remov alfr 's ssh-agent directori in it wake ? o is /tmp a+rwxt ? doe /dev/nul exist ? o ha alfr been mess with hi tmpdir envar ? o what doe lsof on hi ssh-agent say ? what about on alfio 's ? o what are the permiss on ~alfr and ~alfred/.ssh ? o doe alfr 's uid conflict with somebodi els 's ? o doe alfr 's dollarssh_agent_pid correspond to hi agent ? alfio 's ? ) wesley . on thu , aug number , number at number : number : numberpm +number , niall o broin wrote : > i have a strang problem with one user in a small network use ssh . > everyon in the network use ssh and they run an ssh-agent on login . thi > work fine for conveni wander around the network and to some of our > extern box - or did , until today . suddenli , when one user ( alfr ) tri > to ssh anywher he 's ask for a password . he say he chang noth ( don't > they all ) but i do actual believ him . i use ssh-keygen to make new key > but that did n't help . > > i creat a new user alfio into whose home directori i copi alfr 's .ssh > directori - alfio can wander around free as a bird without be ask for a > password ever ( except of cours for the passphras to load the identiy into > the agent ) . > > in case there wa someth els in alfr ' environ , i copi . ? ? * from > alfr 's home directori to alfio 's , rememb to chang ownership > afterward . still alfio is as free as a bird . > > we use onli sshnumber with dsa key . an extract from a ssh -v for alfio is below > > debugnumb : got sshnumber_msg_service_accept > debugnumb : authent that can continu : publickey , password > debugnumb : next auth method to tri is publickey > debugnumb : userauth_pubkey_ag : test agent key /home/alfio/.ssh/id_dsa > debugnumb : input_userauth_pk_ok : pkalg ssh-dss blen number lastkey numberxnumberfnumb hint -number > debugnumb : ssh-userauthnumb success : method publickey > > and befor start thi ssh attempt , ssh-add -l for alfio said : > > number number : numberc : numberc : number : numberd : number : number : numbera : number : cnumber : number : numberd : ba : cnumber : numberd : number /home/alfio/.ssh/id_dsa ( dsa ) > > wherea with alfr the same segment of the debug log went > > debugnumb : got sshnumber_msg_service_accept > debugnumb : authent that can continu : publickey , password > debugnumb : next auth method to tri is publickey > debugnumb : userauth_pubkey_ag : test agent key /nfshome/alfred/.ssh/id_dsa > debugnumb : authent that can continu : publickey , password > > and befor start thi ssh attempt , ssh-add -l for alfr said : > > number number : numberc : numberc : number : numberd : number : number : numbera : number : cnumber : number : numberd : ba : cnumber : numberd : number /home/alfred/.ssh/id_dsa ( dsa ) > > > thi problem is definit relat to alfr as a user - it happen when he > log in on differ workstat ( all nf mount the same home > directori ) and the other user ( includ good old alfio ) do n't have ani > problem . > > > niall > > -- > irish linux user ' group : emailaddr > httpaddr for ( un ) subscript inform . > list maintain : emailaddr -- irish linux user ' group : emailaddr httpaddr for ( un ) subscript inform . list maintain : emailaddr