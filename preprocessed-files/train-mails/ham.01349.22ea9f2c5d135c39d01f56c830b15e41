-- -- -begin pgp sign messag -- -- - ============================================================================= freebsd-sa-numb : number.nf secur advisori the freebsd project topic : bug in nf server code allow remot denial of servic categori : core modul : nf announc : number-number-numb credit : mike junk affect : all releas prior to number.number.number-release-pnumb number.number-st prior to the correct date correct : number-number-numb number : number : number utc ( releng_numb ) number-number-numb number : number : number utc ( releng_number_numb ) number-number-numb number : number : number utc ( releng_number_numb ) number-number-numb number : number : number utc ( releng_number_numb ) freebsd onli : no i. background the network file system ( nf ) allow a host to export some or all of it filesystem , or part of them , so that other host can access them over the network and mount them as if they were on local disk . nf is built on top of the sun remot procedur call ( rpc ) framework . ii . problem descript a part of the nf server code charg with handl incom rpc messag had an error which , when the server receiv a messag with a zero-length payload , would caus it to refer the payload from the previou messag , creat a loop in the messag chain . thi would later caus an infinit loop in a differ part of the nf server code which tri to travers the chain . iii . impact certain linux implement of nf produc zero-length rpc messag in some case . a freebsd system run an nf server may lock up when such client connect . an attack in a posit to send rpc messag to an affect freebsd system can construct a sequenc of malici rpc messag that caus the target system to lock up . iv . workaround number ) disabl the nf server : set the nfs_server_en variabl to `` no '' in /etc/rc.conf , and reboot . altern , if there are no activ nf client ( as list by the showmount ( number ) util ) , just kill the mountd and nfsd process should suffic . number ) add firewal rule to block rpc traffic to the nf server from untrust host . v. solut the follow patch ha been verifi to appli to freebsd number.numb , number.numb , and number.numb system . a ) download the relev patch from the locat below , and verifi the detach pgp signatur use your pgp util . # fetch ftp : //ftp.freebsd.org/pub/freebsd/cert/patches/sa-numb : number/nfs.patch # fetch ftp : //ftp.freebsd.org/pub/freebsd/cert/patches/sa-numb : number/nfs.patch.asc b ) appli the patch . # cd /usr/src # patch and reboot the system . vi . correct detail the follow list contain the revis number of each file that wa correct in freebsd . path revis branch - -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- - src/sys/nfs/nfs_socket.c releng_numb number.number.number.numb releng_number_numb number.number.number.number.number.numb releng_number_numb number.number.number.number.number.numb releng_number_numb number.number.number.number.number.numb - -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- - -- -- -begin pgp signatur -- -- - version : gnupg vnumber.number.numb ( freebsd ) iqcvawubpunumberntvuuhinumberznumberoilaqhmzap+lnumberqudeelkhfzyxgnumberppfnumbercuwkreacavl lpnumberojdhlwuwnumberknumbertmnumbery+vnumbert+unumber/wgnlnumberdsqwkfemzxlhzfsmrbubqxnumberefgonumbersb nheetsfunumbertnumberylhty+qewftrwebnumberanumbertgjayvnumberwybwzxulkyjnumberqnrlkfnumberptocnumberenumb tnumbery/cnnumberdnya= =numberysa -- -- -end pgp signatur -- -- -